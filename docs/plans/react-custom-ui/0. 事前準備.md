---
title: '0. äº‹å‰æº–å‚™'
description: 'React è‡ªè¨‚ UI å…ƒä»¶ï¼šäº‹å‰æº–å‚™'
date: '2023-11-01 00:00:00'
keywords: ['React', 'UI å…ƒä»¶', 'å‰ç«¯é–‹ç™¼', 'è‡ªè¨‚å…ƒä»¶']
tags: ['React', 'UI å…ƒä»¶', 'å‰ç«¯é–‹ç™¼']
slug: 'react-ui--'
---

æœ¬æ¬¡æŒ‘æˆ°åƒè€ƒ **[30 å¤©æ“æœ‰ä¸€å¥—è‡ªå·±æ‰‹åˆ»çš„ React UI å…ƒä»¶åº«](https://ithelp.ithome.com.tw/articles/10263591)**
çš„å‡ºç‰ˆå¢æ›¸ `å“å‘€ï¼ä¸å°å¿ƒåˆ»äº†ä¸€å¥— React UI å…ƒä»¶åº«` å¯¦ä½œã€‚

å¯¦ä½œå‰éœ€è¦å®‰è£å¥½ï¼š

1. styled-components
2. storybook
3. TypeScriptï¼ˆæˆ‘æƒ³ç·´ç¿’æ‰€ä»¥æœ‰åŠ ï¼‰

---

## ä¸»é¡Œè¨­å®š

è¨­è¨ˆ styled å…ƒä»¶æ™‚ç›¡é‡å¼•ç”¨ å®šç¾©å¥½çš„ themeï¼Œ  
å¾ŒçºŒåŠ å…¥æ·±è‰²æ¨¡å¼æˆ–å…¶ä»–é€²éšåŠŸèƒ½æ™‚ï¼Œæ‰ä¸æœƒå› ç‚ºéƒ½æ˜¯ç”¨å¯«æ­»çš„å€¼è€Œé€ æˆæ“´å……çš„éšœç¤™ã€‚

æˆ‘æ‡¶å¾—æ‰¾é¡è‰²æ‰€ä»¥å…ˆåƒè€ƒ daisyUI çš„ `retro` ä¸»é¡Œï¼š

```ts title="src/styles/theme.ts"
// src/styles/theme.ts
// reference daisyUI retro: https://daisyui.com/docs/themes/
export const theme = {
  colors: {
    primary: '#ef9995',
    secondary: '#a4cbb4',
    accent: '#e9b84e',
    neutral: '#2e282a',

    success: '#91c4a8',
    warning: '#e9b84e',
    error: '#ef9995',

    text: {
      primary: '#2e282a',
      secondary: '#635956',
      disabled: '#9ca3af',
    },

    bg: {
      default: '#ece3d3',
      paper: '#e6d7c3',
      muted: '#d8c8b0',
    },

    border: '#d8c8b0',
  },

  spacing: (rate: number) => `${4 * rate}px`,
};
```

åœ¨ App.ts æ¸¬è©¦æ˜¯å¦å¯ä»¥æ­£ç¢ºå¼•å…¥ä¸»é¡Œï¼š

```tsx
import styled, { ThemeProvider } from 'styled-components';
import { theme } from './styles/theme';

// Card component example
const Card = styled.div`
  background-color: ${({ theme }) => theme.colors.bg.paper};
  border: 1px solid ${({ theme }) => theme.colors.border};
`;

function App() {
  return (
    <div>
      <ThemeProvider theme={theme}>
        <Card>test card</Card>
      </ThemeProvider>
    </div>
  );
}

export default App;
```

---

## Storybook è¨­å®š

æ›¸ä¸­ä¸æœƒè©³ç´°ç¤ºç¯„æ€éº¼è¨­å®š storybookï¼Œä½†åœ¨å¯¦ä½œå…ƒä»¶æ™‚åˆå¾ˆæƒ³çœ‹æ•ˆæœï¼Œ  
æ‰€ä»¥ä¸€é–‹å§‹èŠ±äº†ä¸€äº›æ™‚é–“ææ‡‚æ€éº¼è¨­å®š storybookã€‚

### æ•´åˆ styled-components

Storybook æœ¬ä¾†å°±ä¸æœƒå»åƒ ThemeProvider çš„è¨­å®šï¼Œ
å±•ç¤º styled å…ƒä»¶æ™‚ï¼Œå¼•ç”¨çš„ theme è®Šæ•¸å°±æœƒæ‰¾ä¸åˆ°è€Œå ±éŒ¯ï¼Œ  
å®˜æ–¹çš„è§£æ±ºæ–¹æ¡ˆï¼š[# IntegrateÂ Styled ComponentsÂ with Storybook](https://storybook.js.org/recipes/styled-components)

åœ¨ `.storybook/preview.ts` åŠ å…¥è¨­å®šï¼š

```ts
// .storybook/preview.ts
import { withThemeFromJSXProvider } from '@storybook/addon-themes';

export const decorators = [
  withThemeFromJSXProvider({
    themes: {
      light: theme,
    },
    defaultTheme: 'light',
    Provider: ThemeProvider,
  }),
];
```

---

### å…ƒä»¶å±•ç¤º

è‡³å°‘è¦ export ä¸€å€‹ Story ç‰©ä»¶ï¼Œå¦å‰‡æœƒå ±éŒ¯ã€‚

ä»¥ Button å…ƒä»¶ç‚ºä¾‹ï¼š

```tsx
import { fn } from '@storybook/test';
import { Button } from '../components/Button';

import type { Meta, StoryObj } from '@storybook/react';

const meta = {
  title: 'Inputs/Button',
  component: Button,

  // ç”¢ç”Ÿèªªæ˜ç¸½è¦½æ–‡ä»¶
  tags: ['autodocs'],

  parameters: {
    layout: 'centered', // è®“å…ƒä»¶åœ¨ç•«é¢ä¸­ç½®ä¸­
  },

  // Story ç‰©ä»¶çš„é è¨­å€¼
  args: {
    children: 'æŒ‰éˆ•',
    onClick: fn(), // è§¸ç™¼ Storybook æ§åˆ¶é¢æ¿çš„ Action
  },

  // å®šç¾©å“ªäº› props å¯ä»¥åœ¨ Storybook æ§åˆ¶é¢æ¿ä¸­èª¿æ•´
  argTypes: {
    variant: {
      control: 'select',
      options: ['contained', 'outlined', 'text'],
    },
    themeColor: {
      control: 'text',
    },
    isDisabled: {
      control: 'boolean',
    },
    isLoading: {
      control: 'boolean',
    },
    children: {
      control: 'text',
    },
  },
} satisfies Meta<typeof Button>;

export default meta;
type Story = StoryObj<typeof Button>;

export const Default: Story = {
  args: {
    variant: 'contained',
    themeColor: 'primary',
  },
};

export const WithIcon: Story = {
  args: {
    startIcon: 'ğŸ“§',
    variant: 'contained',
    themeColor: 'primary',
  },
};

export const Loading: Story = {
  args: {
    isLoading: true,
    variant: 'contained',
    themeColor: 'primary',
  },
};

export const Variants: Story = {
  render: () => (
    <div style={{ display: 'flex', gap: '1rem' }}>
      <Button variant="contained">Contained</Button>
      <Button variant="outlined">Outlined</Button>
      <Button variant="text">Text</Button>
    </div>
  ),
};
```

---

## å‹åˆ¥

styled-components ç‚ºäº†é é˜²å‘½åè¡çªï¼Œè‡ªå®šç¾©çš„ props éƒ½è¦åŠ ä¸Š `$` å‰ç¶´ï¼Œ  
è€Œåœ¨ styled å…ƒä»¶è£¡é¢è¦å¼•ç”¨é€™äº› props çš„è©±å¿…é ˆåŠ ä¸Šæ³›å‹ã€‚

åŸæœ¬æˆ‘æƒ³è¦å¤–å±¤çš„ `index.ts` å’Œå…§å±¤çš„ `styled` å…ƒä»¶éƒ½å…±ç”¨åŒä¸€å€‹å‹åˆ¥ï¼Œ  
ä½†æ˜¯ `$` å‰ç¶´å°±æœƒå½±éŸ¿åˆ°ä¸Šå±¤åœ¨ä½¿ç”¨å…ƒä»¶æ™‚å¯èƒ½æœƒé »ç¹çœ‹åˆ° `$` çš„å¯è®€æ€§ï¼Œ  
ä¸¦ä¸”ä¸æ˜¯æ‰€æœ‰çš„ props éƒ½æœƒå‚³å…¥å…§å±¤åšæ¨£å¼è®ŠåŒ–çš„åˆ¤æ–·ï¼Œ  
ç¡¬è¦å¼•ç”¨åŒä¸€å€‹å‹åˆ¥åè€Œé‚„éœ€è¦è€ƒæ…®ã€Œæ˜¯ä¸æ˜¯å¿…å‚³ã€ã€`extends` å’Œ `Omit` ç­‰ï¼š

```ts
// å¤–å±¤ Button çš„å‹åˆ¥
interface ButtonProps {
  variant: 'contained' | 'outlined' | 'text';
  // ...å…¶ä»–ä¸€å †å±¬æ€§
}

// styled çš„å‹åˆ¥
interface StyledProps extends ButtonProps Omit<ButtonProps, 'variant'> {
  $variant: 'contained' | 'outlined' | 'text';
}
```

çœ‹èµ·ä¾†æ˜¯ä¸æ˜¯å¾ˆå½†æ‰­ï¼Ÿç‚ºäº†ç¬¦åˆ `$` å‰ç¶´çš„å®‰å…¨æ€§é‚„æœ‰æ˜¯ä¸æ˜¯å¿…å‚³çš„å•é¡Œï¼Œ  
å¤§è²»å‘¨ç« åœ°ç”¨ `Omit` æŠ½æ‰ä¸€æ¨£çš„ propsï¼Œç„¶å¾Œå†é‡æ–°å‘½åä¸€æ¬¡...
å› æ­¤å€‹äººè¦ºå¾—å¤–å±¤èˆ‡å…§å±¤çš„å‹åˆ¥å…¶å¯¦åˆ†é–‹å¯«å°±å¯ä»¥äº†ï¼Œ  
å…§å±¤éœ€è¦ä»€éº¼ props å°±è£œä»€éº¼åˆ°å‹åˆ¥è£¡é¢ï¼Œå¯«èµ·ä¾†æ¯”è¼ƒä¹¾æ·¨ã€‚

---

## æ…£ä¾‹

props çš„è¨­è¨ˆèˆ‡å‘½åç›¡é‡ä¸è¦é•åç›´è¦ºï¼Œ  
é‚£ã€Œç›´è¦ºã€çš„åŸºæº–æ˜¯ä»€éº¼ï¼Ÿå…¶å¯¦åœ¨ JSX è£¡é¢å·²ç¶“æç¤ºå¾ˆå¤šï¼Œå¦‚ `onChange`ï¼Œ`onClick` ç­‰ã€‚

UI äº’å‹•æ‰€è§¸ç™¼çš„ DOM Eventï¼Œé€šå¸¸ä»¥ on é–‹é ­ï¼Œ  
å¦‚æœå±¬æ€§ä»£è¡¨ä¸€å€‹å¸ƒæ—å€¼çš„ç‹€æ…‹ï¼Œé€šå¸¸ä»¥ is é–‹é ­...  
è«¸å¦‚æ­¤é¡çš„æ…£ä¾‹ï¼ˆconventionsï¼‰æœ‰å¾ˆå¤šï¼Œå¤šçœ‹ä¸€äº› code æ‡‰è©²æœƒå¾ˆæœ‰å°è±¡çš„ï¼

å…ƒä»¶è¦ä¸è¦åšæˆå–®å€‹é–‰åˆæ¨™ç±¤ï¼Œä¹Ÿå–æ±ºæ–¼éœ€ä¸éœ€è¦å‚³å…¥ `children` ä»¥åŠä½¿ç”¨æ…£ä¾‹ï¼Œ  
ä¾‹å¦‚è¨­è¨ˆäº†ä¸€å€‹ `Button` å…ƒä»¶æ™‚ï¼Œæ‡‰è©²æœƒå¸Œæœ›å®ƒåƒåŸç”Ÿçš„ `button` ä¾†åšæ’°å¯«ï¼Œ  
å› æ­¤æ–‡æœ¬å…§å®¹æ‡‰è©²ç•¶æˆ `children` å‚³å…¥ï¼š

```jsx
// ç”¨ children ç•¶ä½œæ–‡æœ¬
<Button>
  æˆ‘æ˜¯ä¸€å€‹æŒ‰éˆ•
</Button>

// ç”¨ props ç•¶ä½œæ–‡æœ¬
// é€™æ¨£è¨­è¨ˆçš„å…ƒä»¶åº«ä¹Ÿæ˜¯æœ‰çš„
<Button
  label="æˆ‘æ˜¯ä¸€å€‹æŒ‰éˆ•"
/>
```

---

## åƒè€ƒè³‡æ–™

- [30 å¤©æ“æœ‰ä¸€å¥—è‡ªå·±æ‰‹åˆ»çš„ React UI å…ƒä»¶åº«](https://ithelp.ithome.com.tw/articles/10263591)
- [IntegrateÂ Styled ComponentsÂ with Storybook](https://storybook.js.org/recipes/styled-components)

---

é—œè¯ä¸»é¡Œï¼š[[Storybook]]
